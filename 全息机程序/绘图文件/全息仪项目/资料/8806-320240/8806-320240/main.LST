C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 1   


C51 COMPILER V7.08, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg52.h>
   2          #include "ra8806reg.h"
   3          
   4          sbit rs = P2^0;
   5          sbit wr = P2^1;
   6          sbit rd = P2^2;
   7          sbit cs1 = P2^3;
   8          sbit rst = P2^5;   
   9          sbit busy = P2^4;
  10          
  11          #define BUS P0
  12          
  13          unsigned char code tab1[]={"深圳市川航电子科技有限公司专业生产液晶屏"};
  14          
  15          unsigned char code pic1[]={
  16          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  17          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  18          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  19          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XC0,0X00,0X00,0X00,
  20          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  21          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  22          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  23          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  24          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  25          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  26          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  27          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  28          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  29          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  30          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
  31          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  32          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
  33          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  34          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
  35          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  36          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  37          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  38          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  39          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  40          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  41          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  42          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  43          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  44          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  45          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
  46          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  47          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
  48          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  49          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
  50          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  51          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  52          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  53          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  54          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  55          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 2   

  56          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  57          0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  58          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
  59          0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  60          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
  61          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  62          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
  63          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  64          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
  65          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  66          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  67          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  68          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  69          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  70          0X00,0X00,0X00,0X00,0X00,0XF3,0XCF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  71          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  72          0X00,0X00,0X00,0X93,0XC9,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  73          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  74          0X00,0X93,0XC9,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  75          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF3,
  76          0XCF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  77          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
  78          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  79          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
  80          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  81          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  82          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  83          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  84          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  85          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  86          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  87          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  88          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  89          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  90          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
  91          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  92          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
  93          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  94          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
  95          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  96          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
  97          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  98          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  99          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 100          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 101          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 102          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 103          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 104          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 105          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 106          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 107          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 108          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 109          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
 110          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 111          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
 112          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 113          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 114          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 115          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 116          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 117          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 3   

 118          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 119          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 120          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 121          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 122          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 123          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 124          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
 125          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 126          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
 127          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 128          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 129          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 130          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 131          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 132          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 133          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 134          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1E,0X00,0X00,
 135          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 136          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X12,0X00,0X00,0X00,0X00,
 137          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 138          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X12,0X00,0X00,0X00,0X00,0X00,0X00,
 139          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
 140          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 141          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
 142          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 143          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 144          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 145          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 146          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 147          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 148          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 149          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X09,0X80,0X00,0X00,0X00,0X00,
 150          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 151          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,
 152          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 153          0X00,0X00,0X00,0X00,0X00,0X00,0XF9,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 154          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,
 155          0X00,0X00,0X00,0X0F,0XBF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 156          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,
 157          0X00,0X1F,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 158          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X5F,
 159          0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 160          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XF0,
 161          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 162          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XFF,0XF0,0X00,0X00,
 163          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 164          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X07,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,
 165          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 166          0XC0,0X00,0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,
 167          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF3,0XC0,0X00,
 168          0X00,0X00,0X00,0X00,0X0F,0XFF,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 169          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X93,0XC0,0X00,0X00,0X00,
 170          0X00,0X00,0X0F,0XFF,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 171          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X93,0XC0,0X00,0X78,0X00,0X00,0X00,
 172          0X7F,0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 173          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF3,0XC0,0X07,0XFF,0XC1,0XFF,0XE0,0XFF,0XFF,
 174          0XF8,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 175          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X0F,0XFF,0XFF,0XFF,0XFC,0X7F,0XFF,0XF8,0X1F,
 176          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 177          0X00,0X00,0X00,0X03,0XC0,0X7F,0XF8,0XFF,0XFF,0XFF,0XFF,0XFF,0XE0,0X0F,0X00,0X00,
 178          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 179          0X00,0X03,0XC1,0XFF,0XE0,0X0F,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 4   

 180          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 181          0XC0,0X7F,0X80,0X0F,0XFF,0XFF,0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 182          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 183          0X00,0X3F,0XFF,0XFF,0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 184          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X3F,
 185          0XFF,0XFF,0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 186          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X3F,0XFF,0XFF,
 187          0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 188          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X3F,0XFF,0XFF,0XFF,0XFF,
 189          0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 190          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,
 191          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 192          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,
 193          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 194          0X00,0X03,0XC0,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,
 195          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 196          0XC0,0X00,0X00,0X0F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 197          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 198          0X00,0X7F,0XFF,0XFF,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 199          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X01,0XFF,
 200          0XFC,0XFF,0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 201          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X0F,0XFF,0XFC,0X3F,
 202          0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 203          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X1F,0XFF,0XF8,0X07,0XFF,0XFF,
 204          0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 205          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X1F,0X8F,0XF8,0X00,0XFF,0XFF,0XFC,0X00,
 206          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 207          0X00,0X00,0X00,0X03,0XC0,0X00,0X0E,0X01,0XF0,0X00,0X00,0XFE,0XFC,0X00,0X00,0X00,
 208          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 209          0X00,0X03,0XC0,0X00,0X0E,0X01,0XF0,0X00,0X00,0X7C,0X3C,0X00,0X00,0X00,0X00,0X00,
 210          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 211          0XC0,0X00,0X0E,0X01,0XF0,0X00,0X00,0X7C,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 212          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 213          0X0E,0X01,0XE0,0X00,0X00,0X79,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 214          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X0C,0X01,
 215          0XE0,0X00,0X00,0X7F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 216          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X0C,0X03,0XE0,0X00,
 217          0X00,0X7F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 218          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X1C,0X03,0XC0,0X00,0X00,0X78,
 219          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 220          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X1C,0X01,0XC0,0X00,0X00,0X70,0X00,0X00,
 221          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 222          0X00,0X00,0X00,0X03,0XC0,0X00,0X1C,0X01,0XC0,0X00,0X00,0X70,0X00,0X00,0X00,0X00,
 223          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 224          0X00,0X03,0XC0,0X00,0X78,0X00,0XC0,0X00,0X00,0X70,0X00,0X00,0X00,0X00,0X00,0X00,
 225          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 226          0XC0,0X00,0X70,0X00,0XE0,0X00,0X00,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 227          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,
 228          0X70,0X00,0X70,0X00,0X00,0X70,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 229          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X60,0X00,
 230          0X70,0X00,0X00,0X78,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 231          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X38,0X00,
 232          0X00,0X78,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 233          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X3C,0X00,0X00,0X38,
 234          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 235          0X00,0X00,0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 236          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 237          0X00,0X00,0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 238          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 239          0X00,0X03,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 240          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,
 241          0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 5   

 242          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X03,0XCF,0X00,
 243          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X1E,0X00,0X00,0X00,0X00,0X00,0X00,
 244          0X00,0X00,0X3C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF3,0XC9,0X00,0X00,0X00,
 245          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X12,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 246          0X24,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X93,0XC9,0X00,0X00,0X00,0X00,0X00,
 247          0X00,0X00,0X00,0X00,0X00,0X12,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X24,0X00,
 248          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X93,0XCF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 249          0X00,0X00,0X00,0X1E,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3C,0X00,0X00,0X00,
 250          0X00,0X00,0X00,0X00,0X00,0XF3,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 251          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 252          0X00,0X00,0X00,0X03,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 253          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 254          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 255          0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,
 256          };
 257          
 258          
 259          unsigned char d,h,m,s;
 260          
 261          ////////////////////////////////
 262          void delay_nms(unsigned int n)
 263          {
 264   1              unsigned int i,j;
 265   1                      for(i=n;i>0;i--)
 266   1                      {
 267   2                              for(j=125;j>0;j--)
 268   2                                      {
 269   3                                      }
 270   2                      }
 271   1      }
 272          //$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 273          void softrst()
 274          {
 275   1           delay_nms(2);
 276   1               rst=0;
 277   1               delay_nms(5);
 278   1               rst=1;
 279   1               delay_nms(5);
 280   1        
 281   1      }
 282          
 283          //$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$ 
 284          unsigned char LCD_CmdRead(unsigned char Addr)
 285          {  
 286   1      unsigned char Data;  
 287   1      
 288   1      cs1=0;
 289   1      rs=1;
 290   1      rd=1;
 291   1      BUS=Addr;
 292   1      wr=0;
 293   1      wr=1;
 294   1      
 295   1      BUS=0XFF;
 296   1      rs=0;
 297   1      wr=1;
 298   1      rd=1;
 299   1      rd=0;
 300   1      Data=BUS;
 301   1      
 302   1      return Data;
 303   1      }
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 6   

 304          //$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 305          void LCD_CmdWrite(unsigned char cmdaddr)//8080
 306          {               cs1=0;
 307   1                      rd=1;
 308   1                      rs=1;
 309   1                      BUS=cmdaddr;
 310   1                      wr=0;
 311   1              wr=1;
 312   1                      cs1=1;
 313   1      }
 314          
 315          //$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 316          
 317          void LCD_DataWrite(unsigned char wrdata)
 318          {       while(busy==0);
 319   1                      cs1=0;
 320   1                      rd=1;
 321   1                      rs=0;
 322   1                      BUS=wrdata;
 323   1                      wr=0;
 324   1                      wr=1;
 325   1                      cs1=1;
 326   1      }
 327          //******************消除雪花模式******************
 328          void clearsnow(void)       //在文本方式下，无法使用消除雪花模式，在图形模式下可以用
 329           {  unsigned char temp;
 330   1          temp=LCD_CmdRead(0x01);
 331   1              temp |=0x80;
 332   1          LCD_CmdWrite(0x01);
 333   1          LCD_DataWrite(temp); 
 334   1              }
 335          //******************不消除雪花模式--正常模式******************
 336          void noclearsnow(void)
 337           {  unsigned char temp;     //在文本方式下，无法使用消除雪花模式
 338   1          temp=LCD_CmdRead(0x01);
 339   1              temp &=0x7f;
 340   1          LCD_CmdWrite(0x01);
 341   1          LCD_DataWrite(temp); 
 342   1              }
 343          //******************X,Y坐标定位******************
 344          void LCD_GotoXY(unsigned char xx,unsigned char yy)
 345          {   LCD_CmdWrite(0x60); 
 346   1              LCD_DataWrite(xx);
 347   1          LCD_CmdWrite(0x70);  
 348   1              LCD_DataWrite(yy);
 349   1      }
 350          //*************绘图模式**************************
 351          void LCD_Graphic(void)
 352          {   unsigned char temp;
 353   1          temp=LCD_CmdRead(0x00);
 354   1              temp &=0xf7;
 355   1          LCD_CmdWrite(0x00);
 356   1          LCD_DataWrite(temp); 
 357   1              clearsnow();      //开启消除雪花功能
 358   1       }
 359          //*************文字模式**************************
 360          void LCD_Text(void)
 361          {   unsigned char temp;
 362   1          temp=LCD_CmdRead(0x00);
 363   1              temp |=0x08;
 364   1          LCD_CmdWrite(0x00);
 365   1          LCD_DataWrite(temp); 
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 7   

 366   1              noclearsnow();      //关闭消除雪花功能
 367   1       }
 368          
 369          //***********DDRAM1 显示**************************
 370          void Only_Show_Page1(void)
 371          {
 372   1              unsigned char temp;
 373   1          temp=LCD_CmdRead(0x12);
 374   1          temp &=0x9f;
 375   1              temp |=0x10;
 376   1          LCD_CmdWrite(0x12);
 377   1          LCD_DataWrite(temp); 
 378   1      }
 379          
 380          //***********DDRAM2 显示**************************
 381          void Only_Show_Page2(void)
 382          {
 383   1              unsigned char temp;
 384   1          temp=LCD_CmdRead(0x12);
 385   1          temp &=0xaf;
 386   1              temp |=0x20;
 387   1          LCD_CmdWrite(0x12);
 388   1          LCD_DataWrite(temp); 
 389   1      }
 390          //***********DDRAM1和DDRAM2 双图层显示***************
 391          void Show_Two_Layer(void)
 392          {
 393   1              unsigned char temp;     
 394   1              temp=LCD_CmdRead(0x12);
 395   1          temp &=0xbf;
 396   1              temp |=0x30;
 397   1          LCD_CmdWrite(0x12);
 398   1          LCD_DataWrite(temp); 
 399   1      }
 400          //***********DDRAM1和DDRAM2 OR方式显示***************
 401          void OR_Two_Layer(void)
 402          {
 403   1              unsigned char temp;     
 404   1              temp=LCD_CmdRead(0x12);
 405   1          temp &=0xf3;
 406   1          LCD_CmdWrite(0x12);
 407   1          LCD_DataWrite(temp); 
 408   1      }
 409          //***********存取DDRAM1*******************************
 410          void Access_Page1(void)
 411          {
 412   1              unsigned char temp;     
 413   1              temp=LCD_CmdRead(0x12);
 414   1          temp &=0xfd;
 415   1              temp |=0x01;
 416   1          LCD_CmdWrite(0x12);
 417   1          LCD_DataWrite(temp); 
 418   1      }
 419          //***********存取DDRAM2*******************************
 420          void Access_Page2(void)
 421          {
 422   1              unsigned char temp;     
 423   1              temp=LCD_CmdRead(0x12);
 424   1          temp &=0xfe;
 425   1              temp |=0x02;
 426   1          LCD_CmdWrite(0x12);
 427   1          LCD_DataWrite(temp); 
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 8   

 428   1      }
 429          
 430          //$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 431          void displays(unsigned char x,unsigned char y,unsigned char *m)
 432          {
 433   1          unsigned int iiii=0,pppp=0,c=0;
 434   1          LCD_Graphic();    //选择绘图模式
 435   1          LCD_GotoXY(x,y);   //指定坐标为00，00
 436   1          LCD_CmdWrite(0xb0); 
 437   1                 for(iiii=0;iiii<80;iiii++)
 438   1                 {
 439   2                      for(pppp=0;pppp<40;pppp++)
 440   2                  {
 441   3                        LCD_DataWrite(m[c++]); 
 442   3                  }   
 443   2                  } 
 444   1      
 445   1      } 
 446          ///////////////////////////////////////////
 447          void lcd_inital()
 448          { 
 449   1              LCD_CmdWrite(WLCR);             //[00H] , Default --> 0x00
 450   1              LCD_DataWrite(0x04);    //屏幕显示开启  disp_off输出high        
 451   1      
 452   1              LCD_CmdWrite(MISC);             //[01H] , Default --> 0x00
 453   1              LCD_DataWrite(0x04);
 454   1      
 455   1              LCD_CmdWrite(ADSR);             //[03H] , Default --> 0x00 
 456   1              LCD_DataWrite(0x00);
 457   1      
 458   1              LCD_CmdWrite(INTR);             //[0FH] , Default --> 0x00
 459   1              LCD_DataWrite(0x00);
 460   1      
 461   1              LCD_CmdWrite(WCCR);             //[10H] , Default --> 0x00
 462   1              LCD_DataWrite(0x00);
 463   1      
 464   1              LCD_CmdWrite(CHWI);             //[11H] , Default --> 0x00
 465   1              LCD_DataWrite(0x00);
 466   1      
 467   1              LCD_CmdWrite(MAMR);             //[12H] , Default --> 0x11 
 468   1              LCD_DataWrite(0x11);
 469   1      
 470   1              LCD_CmdWrite(AWRR);             //[20H] , Default --> 0x27
 471   1              LCD_DataWrite(39);
 472   1      
 473   1              LCD_CmdWrite(DWWR);             //[21H] , Default --> 0x27
 474   1              LCD_DataWrite(39);
 475   1      
 476   1              LCD_CmdWrite(AWBR);             //[30H] , Default --> 0xEF      
 477   1              LCD_DataWrite(239);
 478   1      
 479   1              LCD_CmdWrite(DWHR);             //[31H] , Default --> 0xEF
 480   1              LCD_DataWrite(239);
 481   1      
 482   1              LCD_CmdWrite(AWLR);             //[40H] , Default --> 0x00
 483   1              LCD_DataWrite(0x00);
 484   1      
 485   1              LCD_CmdWrite(AWTR);             //[50H] , Default --> 0x00
 486   1              LCD_DataWrite(0x00);
 487   1      
 488   1              LCD_CmdWrite(CURX);             //[60H] , Default --> 0x00 
 489   1              LCD_DataWrite(0x00);
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 9   

 490   1      
 491   1              LCD_CmdWrite(BGSG);             //[61H] , Default --> 0x00
 492   1              LCD_DataWrite(0x00);
 493   1      
 494   1              LCD_CmdWrite(EDSG);             //[62H] , Default --> 0x00
 495   1              LCD_DataWrite(0x00);
 496   1      
 497   1              LCD_CmdWrite(CURY);             //[70H] , Default --> 0x00
 498   1              LCD_DataWrite(0x00);
 499   1      
 500   1              LCD_CmdWrite(BGCM);             //[71H] , Default --> 0x00
 501   1              LCD_DataWrite(0x00);
 502   1      
 503   1              LCD_CmdWrite(EDCM);             //[72H] , Default --> 0x00
 504   1              LCD_DataWrite(0x00);
 505   1      
 506   1              LCD_CmdWrite(BTMR);             //[80H] , Default --> 0x00
 507   1              LCD_DataWrite(0x00);
 508   1      
 509   1              LCD_CmdWrite(ITCR);             //[90H] , Default --> 0x00    对比度不好可以改此参数
 510   1              LCD_DataWrite(0x00);
 511   1      
 512   1              LCD_CmdWrite(PNTR);             //[E0H] , Default --> 0x00
 513   1              LCD_DataWrite(0x00);
 514   1      
 515   1              LCD_CmdWrite(FNCR);             //[F0H] , Default --> 0x00
 516   1              LCD_DataWrite(0x00);
 517   1      
 518   1              LCD_CmdWrite(FVHT);             //[F1H] , Default --> 0x00
 519   1              LCD_DataWrite(0x00);
 520   1      }
 521              
 522          
 523          /////////////////清屏子程序//////////////////////////
 524          void clear(void)
 525          { 
 526   1        LCD_Graphic();     //选择绘图模式     
 527   1        noclearsnow();      //关闭消除雪花功能
 528   1        LCD_CmdWrite(0xe0);
 529   1        LCD_DataWrite(0x00);
 530   1        LCD_CmdWrite(0xf0);
 531   1        LCD_DataWrite(0xa8);
 532   1        delay_nms(3);
 533   1      }
 534          //////////////全部显示子程序///////////////////////
 535          void display_all()
 536          {
 537   1          LCD_Graphic();    //选择绘图模式
 538   1          noclearsnow();      //关闭消除雪花功能
 539   1          LCD_CmdWrite(0xe0);
 540   1          LCD_DataWrite(0xff);     //全部填0xff
 541   1          LCD_CmdWrite(0xf0);
 542   1          LCD_DataWrite(0xa8);
 543   1          delay_nms(3);
 544   1      }
 545          //////////////装配测试用///////////////////////////
 546          void display_snows(unsigned char dat1,unsigned char dat2)
 547          {
 548   1      
 549   1          unsigned int iiii=0,pppp=0;
 550   1          LCD_Graphic();   //选择绘图模式
 551   1          LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 10  

 552   1              LCD_CmdWrite(0xb0); 
 553   1                 for(iiii=0;iiii<120;iiii++)
 554   1                 {
 555   2                      for(pppp=0;pppp<40;pppp++)
 556   2                  {
 557   3                        LCD_DataWrite(dat1);  
 558   3                  }   
 559   2                              for(pppp=0;pppp<40;pppp++)
 560   2                  {
 561   3                        LCD_DataWrite(dat2);  
 562   3                  }  
 563   2                 } 
 564   1      }
 565          /////////////显示一行边框//////////////////////////////////
 566          
 567          void display_kuang(void)
 568          {
 569   1      
 570   1              unsigned int n0,n1;
 571   1              Only_Show_Page1(); //只显示DDRAM1
 572   1          Access_Page1();   //只存取DDRAM1
 573   1          LCD_Graphic();   //选择绘图模式
 574   1          LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置
 575   1              LCD_CmdWrite(0xb0);
 576   1              for(n0=0;n0<40;n0++)
 577   1                              LCD_DataWrite(0xff);
 578   1      
 579   1              for(n0=0;n0<238;n0++)           
 580   1          {
 581   2                      for(n1=0;n1<40;n1++)
 582   2                      {
 583   3                          if (n1==0)          LCD_DataWrite(0x80);
 584   3                              else if (n1==39) LCD_DataWrite(0x01);
 585   3                              else                LCD_DataWrite(0x00);
 586   3              }
 587   2              }
 588   1      
 589   1              for(n0=0;n0<40;n0++)
 590   1              LCD_DataWrite(0xff);
 591   1      }
 592          /////////////画一个表格//////////////////////////////////
 593          
 594          void display_biao(void)
 595          {
 596   1      
 597   1              unsigned int n0,n1;
 598   1          LCD_Graphic();   //选择绘图模式
 599   1          LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置
 600   1              LCD_CmdWrite(0xb0);
 601   1              for(n0=0;n0<40;n0++)
 602   1                              LCD_DataWrite(0xff);
 603   1      
 604   1              for(n0=0;n0<31;n0++)            
 605   1          {
 606   2                      for(n1=0;n1<40;n1++)
 607   2                      {
 608   3                          if (n1==0)          LCD_DataWrite(0x80);
 609   3                              else if (n1==39) LCD_DataWrite(0x01);
 610   3                              else                LCD_DataWrite(0x00);
 611   3              }
 612   2              }
 613   1      
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 11  

 614   1              for(n0=0;n0<40;n0++)
 615   1              LCD_DataWrite(0xff);
 616   1              for(n0=0;n0<(125);n0++)         
 617   1          {
 618   2                      for(n1=0;n1<40;n1++)
 619   2                      {
 620   3                          if (n1==0)          LCD_DataWrite(0x80);
 621   3                              else if (n1==39) LCD_DataWrite(0x01);
 622   3                              else                LCD_DataWrite(0x00);
 623   3              }
 624   2              }
 625   1              for(n0=0;n0<40;n0++)
 626   1              LCD_DataWrite(0xff);
 627   1      }
 628          //--------------调出ASCII表1----------------------
 629          void display_ziku()
 630          {
 631   1              unsigned int i=0;
 632   1          Access_Page2() ; //存取DDRAM2
 633   1          clear();       //清DDRAM2
 634   1          LCD_Text();   //选择文本模式
 635   1              LCD_CmdWrite(0xb0); 
 636   1                 for(i=0;i<140;i++)
 637   1                 {
 638   2                     LCD_DataWrite(0x00+i);  
 639   2                                      delay_nms(1);
 640   2                  }   
 641   1      }
 642          
 643          /////////////显示中文字库和字符////////////////////
 644          void display_word(unsigned char code *cha, int count )
 645          {
 646   1              unsigned int iiii=0;
 647   1          LCD_Text();   //选择文本模式
 648   1              //LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置  放在外面了
 649   1              LCD_CmdWrite(0xb0); 
 650   1                 for(iiii=0;iiii<count;iiii++)
 651   1                 {
 652   2                     LCD_DataWrite(*cha++);  
 653   2                     //++cha;
 654   2                                      delay_nms(1);
 655   2                  }   
 656   1      }
 657          
 658          /////////////在指定的坐标处显示字符串////////////////////
 659          void LCD_ShowStr(unsigned char *text)
 660          { 
 661   1          LCD_Text();   //选择文本模式
 662   1              //LCD_GotoXY(xxx,yyy);   //设定X,Y坐标位置 
 663   1          LCD_CmdWrite(0xB0);
 664   1          while(*text != '\0')          
 665   1              {
 666   2              LCD_DataWrite(*text++);
 667   2                  delay_nms(1);
 668   2          }
 669   1      }
 670          /////////////////////全屏反白显示///////////////////////////////////
 671          void reverse_data(void)
 672          {  unsigned char temp;
 673   1         temp=LCD_CmdRead(0x00);  //读WLCR寄存器数据
 674   1         temp |=0x01;
 675   1         LCD_CmdWrite(0x00);
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 12  

 676   1         LCD_DataWrite(temp);     
 677   1       }
 678          /////////////////////全屏正常显示///////////////////////////////////
 679          void normal_data(void)
 680          {  unsigned char temp;
 681   1         temp=LCD_CmdRead(0x00);  //读WLCR寄存器数据
 682   1         temp &=0xfe;
 683   1         LCD_CmdWrite(0x00);
 684   1         LCD_DataWrite(temp);     
 685   1       }
 686          ///***************数据反白输入*****************************
 687          void LCD_Inv(void)
 688          {
 689   1              unsigned char temp;     
 690   1          temp=LCD_CmdRead(0x10);
 691   1          temp |=0x20;
 692   1          LCD_CmdWrite(0x10);
 693   1          LCD_DataWrite(temp); 
 694   1      }
 695          ///***************数据正常输入*****************************
 696          void LCD_NoInv(void)
 697          {
 698   1              unsigned char temp;     
 699   1          temp=LCD_CmdRead(0x10);
 700   1          temp &=0xdf;
 701   1          LCD_CmdWrite(0x10);
 702   1          LCD_DataWrite(temp); 
 703   1      }
 704          
 705           /////////////////////汉字粗体显示///////////////////////////////////
 706          void bold_word(void)
 707          {  unsigned char temp;
 708   1         temp=LCD_CmdRead(0x10);  //读wccr寄存器数据
 709   1         temp |=0x10;
 710   1         LCD_CmdWrite(0x10);
 711   1         LCD_DataWrite(temp);     
 712   1       }
 713            /////////////////////汉字非粗体显示///////////////////////////////////
 714          void no_bold_word(void)
 715          {  unsigned char temp;
 716   1         temp=LCD_CmdRead(0x10);  //读wccr寄存器数据
 717   1         temp &=0xef;
 718   1         LCD_CmdWrite(0x10);
 719   1         LCD_DataWrite(temp);     
 720   1       }
 721          /////////////////////字符放大i倍///////////////////////////////////
 722          void enlarge(unsigned char i)
 723          {  
 724   1         switch(i)
 725   1        { case 0x01:
 726   2         LCD_CmdWrite(0xf1);
 727   2         LCD_DataWrite(0x00);  
 728   2         break;
 729   2          case 0x02:
 730   2         LCD_CmdWrite(0xf1);
 731   2         LCD_DataWrite(0x50);  
 732   2         break;
 733   2         case 0x03:
 734   2         LCD_CmdWrite(0xf1);
 735   2         LCD_DataWrite(0xa0); 
 736   2         break;
 737   2         case 0x04:
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 13  

 738   2         LCD_CmdWrite(0xf1);
 739   2         LCD_DataWrite(0xf0); 
 740   2         break;
 741   2          }
 742   1       }
 743           //-----------------------------组装测试------------------------------------------------
 744          void display_test(unsigned char com1,unsigned char com2)
 745          {
 746   1        unsigned char i,j,k;
 747   1        LCD_Graphic();   //选择绘图模式
 748   1        LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置
 749   1        LCD_CmdWrite(0xb0);
 750   1        for(i=0;i<240;i++)
 751   1        {
 752   2           if(i%2==1)
 753   2            k=com1;
 754   2              else  k=com2;
 755   2          for(j=0;j<40;j++)
 756   2           {LCD_DataWrite(k);
 757   3               }
 758   2        }
 759   1      }
 760          
 761          void lcd_test()
 762          {
 763   1        unsigned char i;
 764   1        unsigned char code tdata[][2]=
 765   1        {
 766   1              {0xff,0xff},    // All
 767   1              {0x00,0x00},    // None 
 768   1              {0x00,0xFF},    // Virtical 
 769   1      //      {0xff,0x00},    // Virtical
 770   1              {0xAA,0xAA},    // Horizontal 
 771   1      //      {0x55,0x55},    // Horizontal 
 772   1              {0xAA,0x55},    // Stars 
 773   1              {0x55,0xaa},    // Stars 
 774   1        };
 775   1        for(i=0;i<6;i++)
 776   1        {
 777   2         display_test(tdata[i][0],tdata[i][1]); 
 778   2         delay_nms(800);
 779   2         clear();
 780   2        }
 781   1      }
 782          
 783          //------------------以240128图片显示-----------
 784          void disp_Graphic2()    //boxing
 785          {
 786   1          unsigned char i, j;
 787   1          LCD_Graphic();    //绘图模式打开
 788   1              Only_Show_Page2();
 789   1              Access_Page2() ; //存取DDRAM2
 790   1          //clear();       //清DDRAM2
 791   1              LCD_GotoXY(0,0);
 792   1          LCD_CmdWrite(0Xb0);   
 793   1         for(i=0;i<128;i++)
 794   1          {
 795   2            for(j=0;j<30;j++)
 796   2           {
 797   3            LCD_DataWrite(pic1[i*30+j]);
 798   3           }
 799   2         }
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 14  

 800   1      }
 801          
 802          //*************转HEX***********************
 803          void Print_Hex(unsigned char buf)
 804          {
 805   1              unsigned char temp;
 806   1              temp=buf;
 807   1              temp = (temp >>4) & 0x0F;
 808   1              if(temp < 0x0A)
 809   1              {
 810   2                      temp |= 0x30;
 811   2              }
 812   1              else temp = temp + 0x37;
 813   1              LCD_DataWrite(temp);
 814   1              delay_nms(1);
 815   1      
 816   1              temp=buf;
 817   1              temp = temp & 0x0F;
 818   1              if(temp < 0x0A)
 819   1              {
 820   2                      temp |= 0x30;
 821   2              }
 822   1              else temp = temp + 0x37;
 823   1              LCD_DataWrite(temp);
 824   1              delay_nms(1);
 825   1       }
 826           //**************测试触摸屏*********************
 827           void tp_test_auto()
 828          {
 829   1       unsigned char k,temp,X1[3],X2[3],Y1[3],Y2[3];
 830   1       unsigned int X,Y;
 831   1              delay_nms(10);
 832   1              temp=LCD_CmdRead(0x0f);
 833   1              LCD_CmdWrite(0xff);
 834   1              while((temp&0x01)==0x01)
 835   1              {
 836   2                      for(k=0;k<3;k++)
 837   2                      {
 838   3                      temp=LCD_CmdRead(0x0f);
 839   3                      LCD_CmdWrite(0xff);
 840   3                      if((temp&0x01)==0x01)
 841   3                      {
 842   4                              LCD_CmdWrite(0x0f);
 843   4                              LCD_DataWrite(0x00);
 844   4                              X1[k]=LCD_CmdRead(0xc1);
 845   4                              X2[k]=LCD_CmdRead(0xc3)&0x03;                                                   
 846   4                      LCD_CmdWrite(0x0f);
 847   4                              LCD_DataWrite(0x10);
 848   4                              delay_nms(5);
 849   4                      }
 850   3                  temp=LCD_CmdRead(0x0f);
 851   3                      LCD_CmdWrite(0xff);
 852   3                      if((temp&0x01)==0x01)
 853   3                      {
 854   4                              LCD_CmdWrite(0x0f);
 855   4                              LCD_DataWrite(0x00);
 856   4                              Y1[k]=LCD_CmdRead(0xc2);
 857   4                              Y2[k]=LCD_CmdRead(0xc3)&0x0c;                   
 858   4                      LCD_CmdWrite(0x0f);
 859   4                              LCD_DataWrite(0x10);
 860   4                              delay_nms(5);
 861   4                      }
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 15  

 862   3      
 863   3              }
 864   2      if((X1[0]==X1[1])&&(X1[0]==X1[2]))
 865   2      {
 866   3      X = (((unsigned int)X1[0]&0x00ff)<<2) | ((unsigned int)X2[0]&0x0003);
 867   3      Y = (((unsigned int)Y1[0]&0x00ff)<<2) | (((unsigned int)Y2[0]&0x000C) >> 2);
 868   3          LCD_Text();   //选择文本模式
 869   3          LCD_GotoXY(0x17,0x47);   //设定X,Y坐标位置 
 870   3              LCD_CmdWrite(0xb0);
 871   3      Print_Hex(X>>8);
 872   3      Print_Hex(X);
 873   3      LCD_GotoXY(0x17,0x64);   //设定X,Y坐标位置 
 874   3      LCD_CmdWrite(0xb0);
 875   3      Print_Hex(Y>>8);
 876   3      Print_Hex(Y);
 877   3      }
 878   2              }
 879   1      }
 880          //===========================================//
 881           void rut(void) interrupt 0 //using 1
 882          {
 883   1      delay_nms(20);   
 884   1      tp_test_auto();
 885   1      }
 886          //===========================================//
 887          void main (void)  
 888          { 
 889   1        delay_nms(10);   
 890   1        softrst();
 891   1        lcd_inital();  
 892   1        clear();
 893   1        while(1)
 894   1        {
 895   2      
 896   2        display_kuang();    //显示框
 897   2        LCD_GotoXY(0x00,0x02);
 898   2        display_ziku();     //ASCII表1
 899   2        OR_Two_Layer();//DDRAM1 OR DDRAM2
 900   2        Show_Two_Layer();//DDRAM1与DDRAM2同时显示
 901   2        delay_nms(1000);
 902   2        clear();
 903   2      
 904   2      
 905   2        Only_Show_Page1(); //只显示DDRAM1
 906   2        Access_Page1();   //只存取DDRAM1
 907   2        display_test(0xaa,0x55);       //显示星
 908   2        delay_nms(1500);
 909   2        clear();
 910   2      
 911   2        lcd_test(); //组装测试
 912   2        
 913   2        LCD_GotoXY(0x00,0x00);   //设定X,Y坐标位置 
 914   2        display_word(tab1,40);   //显示正常汉字
 915   2        LCD_GotoXY(0x00,0x13);   //
 916   2        bold_word();             //字体变粗
 917   2        display_word(tab1,40);   //显示正常汉字
 918   2        no_bold_word();          //字体变粗功能关闭
 919   2        enlarge(1);    //字体不放大，为16X16点阵大小
 920   2        LCD_GotoXY(0x00,0x2c);   
 921   2        LCD_ShowStr("川航");
 922   2        enlarge(2);    //字体放大2倍，为32X32点阵大小
 923   2        LCD_GotoXY(0x04,0x3c);   //
C51 COMPILER V7.08   MAIN                                                                  08/15/2013 14:33:45 PAGE 16  

 924   2        LCD_ShowStr("川航");
 925   2        enlarge(3);    //字体放大3倍
 926   2        LCD_GotoXY(0x0c,0x4c);   //
 927   2        LCD_ShowStr("川航");
 928   2        enlarge(4);    //字体放大4倍
 929   2        LCD_GotoXY(0x18,0x5c);   //
 930   2        LCD_ShowStr("川航");
 931   2        enlarge(2);
 932   2        LCD_Inv();     //数据反白
 933   2        LCD_GotoXY(0x00,0xa6);   //设定X,Y坐标位置
 934   2        LCD_ShowStr("努力做事只是把事做对");
 935   2         LCD_GotoXY(0x00,0xd0);   //设定X,Y坐标位置
 936   2        LCD_ShowStr("用心做事才能把事做好");
 937   2        enlarge(1);
 938   2        LCD_NoInv();  //取消反白
 939   2        delay_nms(1500);
 940   2        clear();
 941   2      
 942   2         // LCD_NoInv();  //取消反白
 943   2      //  disp_Graphic2();    //显示240128的一张图片
 944   2      //  Access_Page1();   //存取DDRAM1
 945   2      //  Only_Show_Page1(); //显示DDRAM1
 946   2      //  LCD_GotoXY(0x02,0x03);   //设定X,Y坐标位置 
 947   2      //  LCD_ShowStr("深圳市川航电子科技有限公司");   //显示正常汉字
 948   2      //  enlarge(2);           //字体放大2倍
 949   2      //  LCD_GotoXY(0x05,0x1a);   //设定X,Y坐标位置 
 950   2      //  LCD_ShowStr("请点测试区");   //显示正常汉字
 951   2      //  enlarge(1);   //字体还原，就是一倍
 952   2      //  LCD_GotoXY(0x10,0x47);   //设定X,Y坐标位置 
 953   2      //  LCD_ShowStr("X坐标=");   //显示正常汉字
 954   2      //  LCD_GotoXY(0x10,0x64);   //设定X,Y坐标位置 
 955   2      //  LCD_ShowStr("Y坐标=");   //显示正常汉字
 956   2      //  OR_Two_Layer();//DDRAM1 OR DDRAM2
 957   2      //  Show_Two_Layer();//DDRAM1与DDRAM2同时显示
 958   2      ////  LCD_CmdWrite(0xc0);     //至能触摸屏扫描
 959   2      ////  LCD_DataWrite(0x80);
 960   2      ////  LCD_CmdWrite(0xc4);
 961   2      ////  LCD_DataWrite(0x00);   //自幽Ｊ
 962   2      ////  LCD_CmdWrite(0x0f);
 963   2      ////  LCD_DataWrite(0x10); 
 964   2      ////  EX0=1;
 965   2      ////  EA=1;
 966   2      ////  IT0=1;  
 967   2      //  delay_nms(1500);
 968   2      //  clear();
 969   2        }        
 970   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2075    ----
   CONSTANT SIZE    =   3940    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      33
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
